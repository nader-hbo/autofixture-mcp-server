# AutoFixture MCP Server - Usage Examples

This document provides practical examples of how to use the AutoFixture MCP Server once integrated with Cursor, VSCode, or Claude Desktop.

## Available Tools

The server provides 7 powerful tools for working with AutoFixture:

1. `get_quick_start` - Quick start guide
2. `search_methods` - Search for methods
3. `get_class_info` - Get class documentation
4. `get_packages` - List NuGet packages
5. `get_usage_pattern` - Get code examples
6. `get_best_practices` - Get best practices
7. `fetch_github_docs` - Fetch latest GitHub docs

## Example Conversations

### Example 1: Getting Started with AutoFixture

**You:** "I'm new to AutoFixture. Can you show me how to get started?"

**AI Response:** Uses `get_quick_start` tool to provide:
- Installation instructions
- Basic usage examples
- Simple code snippets

Expected Output:
```csharp
var fixture = new Fixture();
var anonymousText = fixture.Create<string>();
var anonymousNumber = fixture.Create<int>();
var myClass = fixture.Create<MyClass>();
```

---

### Example 2: Searching for Specific Methods

**You:** "How do I create a customized object with AutoFixture?"

**AI Response:** Uses `search_methods` with query "build" or "customize"

Expected Output:
- `Build<T>()` method documentation
- Usage examples
- `Customize()` method details

---

### Example 3: Understanding Core Classes

**You:** "Tell me about the Fixture class in AutoFixture"

**AI Response:** Uses `get_class_info` with className "Fixture"

Expected Output:
- Fixture class description
- All available methods:
  - Create<T>()
  - CreateMany<T>()
  - Build<T>()
  - Freeze<T>()
  - Inject<T>()
  - Customize()
- Code examples for each method

---

### Example 4: Finding the Right Package

**You:** "I want to use AutoFixture with Moq. What package do I need?"

**AI Response:** Uses `get_packages` with category "mocking"

Expected Output:
- AutoFixture.AutoMoq package
- Installation command: `Install-Package AutoFixture.AutoMoq`
- Usage example:
```csharp
fixture.Customize(new AutoMoqCustomization());
```

---

### Example 5: Learning Common Patterns

**You:** "Show me how to use AutoFixture with xUnit"

**AI Response:** Uses `get_usage_pattern` with pattern "xunit"

Expected Output:
```csharp
[Theory, AutoData]
public void Test_WithAutoData(int number, string text, Customer customer)
{
    // Parameters are automatically generated by AutoFixture
}
```

---

### Example 6: Getting Best Practices

**You:** "What are the best practices for using AutoFixture?"

**AI Response:** Uses `get_best_practices` tool

Expected Output:
- List of best practices
- When to use AutoFixture
- How to structure tests
- Tips for maintainability

---

### Example 7: Fetching Latest Documentation

**You:** "Get me the latest AutoFixture README from GitHub"

**AI Response:** Uses `fetch_github_docs` with topic "readme"

Expected Output:
- Full README.md content from GitHub
- Latest updates and changes
- Official documentation

---

## Complex Use Cases

### Use Case 1: Setting Up a New Test Project

**You:** "I want to set up AutoFixture with xUnit and Moq in my project. Walk me through it."

**AI Actions:**
1. Uses `get_packages` for "testing" - Gets AutoFixture.Xunit2
2. Uses `get_packages` for "mocking" - Gets AutoFixture.AutoMoq
3. Uses `get_usage_pattern` for "automaq" - Shows integration example
4. Uses `get_usage_pattern` for "xunit" - Shows test attribute usage

---

### Use Case 2: Debugging Test Data Issues

**You:** "My test is failing because AutoFixture is creating incorrect data for my Customer class"

**AI Actions:**
1. Uses `search_methods` for "customize" - Explains customization options
2. Uses `search_methods` for "build" - Shows Build<T>() for fine control
3. Uses `get_usage_pattern` for "customizing" - Provides examples

---

### Use Case 3: Migrating from Manual Test Data

**You:** "I have tests with hard-coded test data. How can I refactor them to use AutoFixture?"

**AI Actions:**
1. Uses `get_quick_start` - Shows basic patterns
2. Uses `get_best_practices` - Explains when and why to use AutoFixture
3. Uses `search_methods` for "freeze" - Shows how to maintain test consistency
4. Provides refactoring examples

---

## Integration Examples

### In Cursor

```
User: @autofixture show me how to create lists of test objects

Claude uses the MCP server to:
1. Search for "CreateMany" method
2. Get usage patterns for lists
3. Provide complete examples
```

### In Claude Desktop

```
User: I need to understand AutoFixture's Freeze method

Claude uses the MCP server to:
1. Search methods for "freeze"
2. Get Fixture class documentation
3. Fetch GitHub docs if needed
4. Explain use cases
```

### In VSCode with Claude Code

```
User: Help me set up AutoFixture for my .NET project

Claude uses the MCP server to:
1. Get quick start guide
2. List all packages
3. Show integration patterns
4. Provide installation commands
```

---

## Tips for Effective Usage

### 1. Be Specific in Your Queries

‚ùå "Tell me about AutoFixture"
‚úÖ "Show me how to create customized test objects with AutoFixture"

### 2. Ask for Patterns

‚ùå "What's AutoFixture?"
‚úÖ "Show me common usage patterns for AutoFixture with NUnit"

### 3. Request Specific Classes or Methods

‚ùå "How do I use this?"
‚úÖ "Explain the Fixture.Build<T>() method"

### 4. Ask for Package Recommendations

‚ùå "What packages exist?"
‚úÖ "What AutoFixture packages do I need for mocking?"

### 5. Request Best Practices

‚ùå "Is this good?"
‚úÖ "What are the best practices for using AutoFixture in integration tests?"

---

## Advanced Scenarios

### Scenario 1: Custom Fixture Setup

**You:** "I need a custom fixture configuration for testing my domain model"

**AI provides:**
- Customization patterns
- ICustomization interface usage
- Domain-specific examples

### Scenario 2: Troubleshooting

**You:** "AutoFixture is throwing an exception when creating my entity"

**AI provides:**
- Common issues and solutions
- Build<T>() for granular control
- Without() method for excluding properties

### Scenario 3: Performance Optimization

**You:** "My tests are slow with AutoFixture"

**AI provides:**
- Best practices for performance
- When to use Freeze<T>()
- Caching strategies

---

## Quick Reference Commands

When using the MCP server, you can ask:

- "Get AutoFixture quick start"
- "Search for [method name]"
- "Explain the [class name] class"
- "List mocking packages"
- "Show xUnit patterns"
- "Get best practices"
- "Fetch latest GitHub README"

The AI will automatically use the appropriate MCP tool to fetch the information.

---

## Troubleshooting MCP Usage

If the AI doesn't seem to be using the MCP server:

1. **Ensure the server is configured correctly**
   - Check your editor's MCP settings
   - Verify the wrapper script path is absolute
   - Restart your editor

2. **Be explicit in your requests**
   - Mention "AutoFixture" in your queries
   - Ask specifically for documentation or examples
   - Reference specific methods or classes

3. **Check Docker is running**
   ```bash
   docker ps
   docker images | grep autofixture
   ```

4. **Test the server manually**
   ```bash
   ./mcp-wrapper.sh
   ```

---

Happy testing with AutoFixture! üéØ
